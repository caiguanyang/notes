<meta http-equiv="content-type" content="text/html; charset=UTF-8">

T：2014-05-12

线程池
------------------------------

###1. [使用线程池的注意事项](1)
1）死锁：  
&emsp;&emsp;通常情况的死锁；线程池的另一种死锁情况：线程池中的所有线程都处于阻塞状态等待任务A的执行结果，但是A还在工作队列中，没有空闲线程执行它，这就导致线程池中的所有工作线程都永远阻塞下去。  
2）系统资源不足：  
&emsp;&emsp;如果线程池中的线程数目过多，他们会消耗包括内存和其他系统资源在内的大量资源。  
3）并发错误：  
线程池的工作队列依靠wait()和notify()方法来事工作线程及时取得任务，但这两个方法都难于使用，最好使用现有的，比较成熟的线程池。  
4）线程泄露：  
&emsp;&emsp;线程池中的线程由于出现异常未捕获，最终异常终止，或者一直阻塞，导致线程不能发挥作用，相当于线程池丢失了一个线程。  
5）任务过载：  
有大量的任务在工作队列排队等候执行，这些任务本身就会消耗过多的系统资源。因此服务器应能根据自身的承载能力，限制客户并发连接的任务。当客户并发连接的数目超过了限制值时，服务器可以拒绝连接请求，并友好的告诉客户。

###2. 线程池大小的确定


###3. Java的线程池框架


###4. 实现原理
（1）java的线程池框架时怎么实现线程池的？

###5. 问题
（1）Executors创建的固定线程数的线程池是如何保证线程池的线程数为常数的，如果线程出现异常终止怎么办？

###示例



**参考**
[1]: Java网络编程精解，孙卫琴，2007，P74
